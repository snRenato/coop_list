<div class="relative">
  <!-- Sino -->
  <button id="notification-button" class="relative">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
        d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14V11a6 6 0 00-5-5.917V4a1 1 0 10-2 0v1.083A6 6 0 006 11v3c0 .386-.149.735-.395 1.002L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
    </svg>

    <%= turbo_frame_tag "notifications_count" do %>
      <%= render "shared/notifications_count" %>
    <% end %>
  </button>

  <!-- Dropdown -->
<% if current_user %>
  <div id="notifications-dropdown" class="hidden absolute right-0 mt-2 w-80 bg-white shadow-lg rounded z-50">
    <% current_user.notifications.order(created_at: :desc).each do |notification| %>
      <div class="p-2 <%= 'font-bold' if notification.unread? %> flex justify-between items-center">
        <span><%= notification.message %></span>
        <% if notification.member.present? %>
          <!-- Aqui você pode colocar botões aceitar/recusar convite -->
        <% end %>
      </div>
    <% end %>
  </div>
<% end %>
  </div>
</div>

<script>
  // Toggle do dropdown
  document.getElementById("notification-button")?.addEventListener("click", function() {
    const dropdown = document.getElementById("notifications-dropdown");
    dropdown.classList.toggle("hidden");
  });
</script>